pluginManagement {
  repositories { google(); mavenCentral(); gradlePluginPortal() }
}
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories { google(); mavenCentral() }
}
rootProject.name = "app"
include(":app")

// Applique le bon fichier selon la version de Capacitor
def capSettings = new File("../node_modules/@capacitor/android/capacitor.settings.gradle")
if (!capSettings.exists()) {
  // fallback très ancien nom (au cas où)
  capSettings = new File("../node_modules/@capacitor/android/capacitor-settings.gradle")
}
if (!capSettings.exists()) {
  throw new GradleException("Capacitor settings file not found in node_modules. Run 'npm ci' then 'npx cap sync android'.")
}
apply from: capSettings