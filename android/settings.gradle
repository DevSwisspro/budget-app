pluginManagement { repositories { google(); mavenCentral(); gradlePluginPortal() } }
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories { google(); mavenCentral() }
}
rootProject.name = "app"
include(":app")
// Capacitor settings (nom moderne + fallback ancien)
def capSettings = new File("../node_modules/@capacitor/android/capacitor.settings.gradle")
if (!capSettings.exists()) capSettings = new File("../node_modules/@capacitor/android/capacitor-settings.gradle")
if (!capSettings.exists()) throw new GradleException("Capacitor settings file not found. Run 'npm ci' puis 'npx cap sync android'.")
apply from: capSettings